use case of SFTP used in reports :

when will reports get generated 


API :
/reporting * -> new (RUST -> producer , Julia -> Consumer )
/api/monitoring/* -> old ( Julia -> producer , Julia -> Consume )

PLAN :

get old api -> hit the curl -> [different combination] -> [schedule the time] -> send email ->
[here somehow i need to get the report from the email or other place where it stores] -> retrive the values.

same for new

Compare both the reports, Here i want to create some script of job ,which will look at the email for report
automatically, and get the diff outputs


TO DO : 

getting the weblogin token ()
Getting the reports from email ()

///home/luffy/samarth/alerts-and-reports

*/3 * * * * cd /home/luffy/samarth/alerts-and-reports && /usr/bin/python3 std_check_email.py >> juspay_report/poll_debug.log 2>&1


You are right to point out that if your remote PC is already running 24/7, a continuous Python daemon is a much more efficient and immediate solution than relying on a Cron job that only checks every few minutes.

A daemon (using Systemd) allows your queue worker to instantly process emails as soon as they arrive, rather than waiting for the next Cron interval. It also keeps your queue list loaded in memory, avoiding constant file I/O.

Here is the revised, recommended solution using a Systemd Daemon for continuous operation, along with the persistent JSON queue for state management.

 # {
    #     "task_name": "Mandate Retry and Retargeting Report OLD_API",
    #     "task_description": "Provides summarised report on Mandate Retry and Retargeting business metrics.",
    #     "mail": [
    #         "samarth.rao@juspay.in",
    #         "rahul.jagdhane@juspay.in"
    #     ],
    #     "standard_report_type": "MANDATE_RETRY"
    # },
    # {
    #     "task_name": "Failed and Manual Review Refund Report OLD_API",
    #     "task_description": "This report contains refunds which Failed or moved to Manual Review on the previous day.",
    #     "mail": [
    #         "samarth.rao@juspay.in",
    #         "rahul.jagdhane@juspay.in"

    #     ],
    #     "standard_report_type": "FAILED_MANUAL_REFUND"
    # }, {
    #     "task_name": "ALT ID Provisioning Report",
    #     "task_description": "Provides day wise summary of ALT_ID provisioning requests across sub-merchants, card networks, issuers.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "ALTID_PROVISION"
    # },
    # {
    #     "task_name": "Card Bin Token Bin Mapping Report",
    #     "task_description": "Mapping between the Token bin and the corresponding Card bin.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "CARD_BIN_TOKEN_BIN_MAPPING"
    # },
    # {
    #     "task_name": "Payout Validation Report",
    #     "task_description": "This report provides a summary about the details of the validations performed on beneficiary information—such as bank account numbers, IFSC codes, UPI_IDs — prior to processing payouts.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "PAYOUT_VALIDATION_REPORT"
    # },
    # {
    #     "task_name": "Gateway Health Based Routing",
    #     "task_description": "This report provides the detailed breakdown of transactions saved via Gateway Health Based Routing.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "HEALTH_ROUTING"
    # },
    # {
    #     "task_name": "Silent Retry Report",
    #     "task_description": "This report provides the detailed breakdown of transactions saved via Silent Retry.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "SILENT_RETRY"
    # },
    # {
    #     "task_name": "Payout Reversed Transactions Report",
    #     "task_description": "This report is a document or summary that provides information about various Reversed financial transactions or payments made by an organization to individuals, vendors, employees, or other entities.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "PAYOUT_REVERSAL"
    # },
    # {
    #     "task_name": "Van Transactions Report",
    #     "task_description": "This report provides details of all orders where payment was done via VAN.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "PAYOUT_VAN_TXN"
    # },
    # {
    #     "task_name": "Payout Fulfillment Txn Report",
    #     "task_description": "A payout fulfillment report is a document or summary that provides information about various financial transactions or payments made by an organization to individuals, vendors, employees, or other entities.",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "PAYOUT_FULFILLMENT"
    # },
    # {
    #     "task_name": "New Orders Report",
    #     "task_description": "This report provides details of orders with status as NEW. This is the status if order is created but transaction is not attempted on it",
    #     "mail": [
    #         "samarth.rao@juspay.in"
    #     ],
    #     "standard_report_type": "NEW_ORDERS"
    # }